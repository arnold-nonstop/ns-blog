<div class="posts-container">
  <%= link_to 'New Post', new_post_path, class: "btn btn-primary new-post" %>
  <h1><%= @header ? @header : "Posts" %></h1>
  <hr>

  <% if @posts.length == 0 %>
    <div class="alert alert-danger" role="alert">
      No posts to show
    </div>
    <%= link_to "Create New Post", new_post_path, class: "btn btn-primary mt-4" %>
  <% end %>

  <% @posts.each do |post| %>
    <div class="card-body">
      <h5 class="card-title"><%= post.title %></h5>
      <p class="card-text post-content"><%= post.content %></p>
      <p class="card-text"><%= pluralize post.comments.count, "comment" %></p>
      <%= link_to 'Read more..', post, class: "btn btn-primary" %>
      <% if post.user&.email == current_user&.email %>
          <%= link_to 'Edit', edit_post_path(post), class: "btn" %>
          <%= link_to 'Delete', post, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn" %>
      <% end %>
    </div>
    <hr>
  <% end %>
</div>
